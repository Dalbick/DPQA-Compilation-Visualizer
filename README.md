# OLSQ-DPQA Compiler
Optimal Layout Synthesizer of Quantum Circuits for Dynamically Field-Programmable Qubits Array.
Open source under the BSD 3-Clause license.

Repo structure:
- `run.py` is an example of using the compiler. Refer to `python run.py -h` for options.
- `solve.py` contains the class `DPQA` where we encode the compilation problem to SMT, and use `z3-solver` to solve it.
- `graphs.json` contains all the random 3-regular graphs we used. They are generated by `networkx`.
- `animation.py` contains the class `CodeGen` that generates DPQA instructions (five types `Init`, `Rydberg`, `Activate`, `Deactivate`, and `Move`), and the class `Animator` that generates animations from DPQA instructions. Refer to `python animation.py -h` for options.
- `results/` is the default directory for the results.
  - `results/smt/` contains the output of SMT variable assignments.
  - `results/code/` contains the code files generated from SMT output.
  - `results/animations/` contains a few example animations generated from code files.

How to use the compiler:
- We used a Python 3 environment with `z3-solver`, `networkx`, and `python-sat`, and `matplotlib`. The Python scripts are run in the root directory of the repo.
- Run `python run.py <S> <I>` where `<S>` is the size of the random 3-regular graph, `<I>` is the id of the graph. To try other graphs, please edit `run.py` as needed.
- The specific runtimes can differ because of the hardware, environment, and updates of this repo. Please refer to branch(es) of this repo for specific versions corresponding to the paper(s), e.g., [arxiv_2306.03487](https://github.com/UCLA-VAST/DPQA/tree/arxiv_2306.03487)
- (Optional) To generate animation, run `python animation.py <F>` where `<F>` is the SMT output file, e.g., `results/smt/rand3reg_90_4.json`.